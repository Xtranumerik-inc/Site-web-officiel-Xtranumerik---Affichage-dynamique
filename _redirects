# Cloudflare Pages Configuration

# Redirections automatiques spécifiques - ordre important !
# Pages spécifiques en premier
/en/map /pages/en/map.html 200
/fr/carte /pages/fr/carte.html 200

# API redirections
/api/* /pages/fr/contact.html 302

# Redirections linguistiques principales
/en /pages/en/index.html 302
/fr /pages/fr/index.html 302

# Configuration multilingue avec gestion des pages spécifiques
/fr/* /pages/fr/:splat 200
/en/* /pages/en/:splat 200

# Headers pour optimisation
/assets/*
  Cache-Control: max-age=31536000, immutable
  
/pages/*
  Cache-Control: max-age=3600
  
/*.html
  Cache-Control: max-age=3600

# Gestion d'erreurs  
/404.html /pages/fr/index.html 404

# Redirection racine - DOIT être en dernier
/ /fr/ 302

# Configuration MIME types
*.css
  Content-Type: text/css
  
*.js
  Content-Type: application/javascript
  
*.json
  Content-Type: application/json