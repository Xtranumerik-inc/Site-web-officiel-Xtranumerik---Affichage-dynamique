<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
    <title>Xtranumerik - Test Header Mobile Anti-D√©formation</title>
    <meta name="description" content="Page de test pour validation du header mobile sans d√©formation - Solutions d'affichage dynamique premium au Canada">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- Mobile-specific meta tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#190544">
    
    <!-- Fonts optimis√©s -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- CSS mobile-optimis√© -->
    <link rel="stylesheet" href="/assets/css/main-mobile-enhanced.css">
    
    <!-- HEADER MOBILE ANTI-D√âFORMATION -->
    <script src="/assets/js/auto-header-mobile-fixed.js"></script>
    
    <!-- Test CSS inline pour validation visuelle -->
    <style>
        /* Test styles pour validation */
        .test-section {
            padding: 2rem 1rem;
            margin: 2rem 0;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 12px;
            border-left: 4px solid #ffa91a;
        }
        
        .test-title {
            color: #190544;
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .test-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .test-card {
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 169, 26, 0.2);
        }
        
        .test-card h3 {
            color: #190544;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        .test-card p {
            color: #64748b;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .test-status {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
            margin: 0.5rem;
        }
        
        .test-status.success {
            background: #dcfce7;
            color: #166534;
        }
        
        .test-status.warning {
            background: #fef3c7;
            color: #92400e;
        }
        
        .mobile-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(25, 5, 68, 0.9);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            z-index: 999;
            backdrop-filter: blur(10px);
        }
        
        /* Responsive test zones */
        @media (max-width: 480px) {
            .mobile-indicator::after {
                content: " - Tr√®s petit √©cran";
            }
        }
        
        @media (min-width: 481px) and (max-width: 768px) {
            .mobile-indicator::after {
                content: " - Mobile/Tablette";
            }
        }
        
        @media (min-width: 769px) and (max-width: 1024px) {
            .mobile-indicator::after {
                content: " - Tablette";
            }
        }
        
        @media (min-width: 1025px) {
            .mobile-indicator::after {
                content: " - Desktop";
            }
        }
    </style>
</head>
<body>
    <!-- Indicateur mobile -->
    <div class="mobile-indicator" id="mobile-indicator">
        Test Responsive
    </div>

    <!-- Header sera inject√© automatiquement par auto-header-mobile-fixed.js -->
    
    <!-- Section de test principale -->
    <section class="test-section">
        <div class="test-content">
            <h1 class="test-title">üîß Test Header Mobile Anti-D√©formation</h1>
            <p>Cette page teste la correction du header mobile pour s'assurer qu'il n'y a plus de d√©formation sur tous les appareils.</p>
            
            <div class="test-grid">
                <div class="test-card">
                    <h3>üì± iPhone (320px+)</h3>
                    <p>Header adapt√© aux tr√®s petits √©crans avec logo proportionnel et boutons tactiles optimis√©s.</p>
                    <div class="test-status success">‚úÖ Test√©</div>
                </div>
                
                <div class="test-card">
                    <h3>üì± Android Mobile</h3>
                    <p>Layout responsive stable avec menu burger fonctionnel et navigation tactile fluide.</p>
                    <div class="test-status success">‚úÖ Test√©</div>
                </div>
                
                <div class="test-card">
                    <h3>üì± Tablettes</h3>
                    <p>Breakpoint 768px avec √©l√©ments bien proportionn√©s et dropdowns adaptatifs.</p>
                    <div class="test-status success">‚úÖ Test√©</div>
                </div>
                
                <div class="test-card">
                    <h3>üíª Desktop</h3>
                    <p>Header classique avec navigation compl√®te et dropdowns hover fonctionnels.</p>
                    <div class="test-status success">‚úÖ Test√©</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section hero simplifi√©e pour test -->
    <section class="hero" style="min-height: 50vh;">
        <div class="content">
            <h2 style="font-family: 'Playfair Display', serif; margin-bottom: 1rem;">Test Header Mobile Fix√©</h2>
            <p style="margin-bottom: 2rem;">Le header doit maintenant s'afficher correctement sans d√©formation sur tous les appareils mobiles.</p>
            <a href="#test-features" class="btn">Voir les corrections ‚Üí</a>
        </div>
    </section>

    <!-- Section des corrections appliqu√©es -->
    <section class="test-section" id="test-features">
        <div class="test-content">
            <h2 class="test-title">üîß Corrections Appliqu√©es</h2>
            
            <div class="test-grid">
                <div class="test-card">
                    <h3>Layout Flexbox Robuste</h3>
                    <p>Contraintes pr√©cises de largeur et hauteur pour √©viter les d√©formations sur tous les appareils.</p>
                </div>
                
                <div class="test-card">
                    <h3>Logo Proportionnel</h3>
                    <p>Tailles fixes avec object-fit: contain pour maintenir les proportions sur tous les √©crans.</p>
                </div>
                
                <div class="test-card">
                    <h3>Breakpoints Optimis√©s</h3>
                    <p>320px, 480px, 768px, 1200px+ avec styles sp√©cifiques pour chaque taille d'√©cran.</p>
                </div>
                
                <div class="test-card">
                    <h3>Menu Burger Stable</h3>
                    <p>Transitions fluides sans d√©formation avec gestion tactile am√©lior√©e et feedback visuel.</p>
                </div>
                
                <div class="test-card">
                    <h3>Contraintes CSS Strictes</h3>
                    <p>Max-width, min-width, height fixes pour emp√™cher tout d√©bordement ou compression.</p>
                </div>
                
                <div class="test-card">
                    <h3>Support Multi-Appareils</h3>
                    <p>Test√© et valid√© sur iPhone, Android, tablettes avec diff√©rentes r√©solutions d'√©cran.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section de test interactif -->
    <section class="test-section">
        <div class="test-content">
            <h2 class="test-title">üß™ Tests Interactifs</h2>
            <p style="margin-bottom: 2rem;">Testez le header en redimensionnant votre navigateur ou en utilisant les outils de d√©veloppement mobile.</p>
            
            <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                <h3 style="color: #190544; margin-bottom: 1rem;">Instructions de Test :</h3>
                <ol style="text-align: left; max-width: 600px; margin: 0 auto;">
                    <li style="margin-bottom: 0.5rem;"><strong>Desktop :</strong> Redimensionnez la fen√™tre de 1200px √† 320px</li>
                    <li style="margin-bottom: 0.5rem;"><strong>Mobile :</strong> Testez en mode portrait/paysage</li>
                    <li style="margin-bottom: 0.5rem;"><strong>Menu :</strong> Cliquez sur le burger menu (mobile)</li>
                    <li style="margin-bottom: 0.5rem;"><strong>Dropdown :</strong> Testez les menus Solutions (desktop/mobile)</li>
                    <li style="margin-bottom: 0.5rem;"><strong>Langue :</strong> Cliquez sur EN/FR pour tester la traduction</li>
                    <li style="margin-bottom: 0.5rem;"><strong>Scroll :</strong> Faites d√©filer pour tester les effets</li>
                </ol>
            </div>
        </div>
    </section>

    <!-- Section de feedback -->
    <section class="test-section">
        <div class="test-content">
            <h2 class="test-title">üì± Rapport de Test Mobile</h2>
            <div id="test-report" style="background: white; padding: 2rem; border-radius: 8px; margin-top: 1rem;">
                <p>Chargement du rapport de test...</p>
            </div>
        </div>
    </section>

    <!-- Script de test mobile -->
    <script>
        // Script de diagnostic mobile
        (function() {
            'use strict';
            
            function generateTestReport() {
                const report = document.getElementById('test-report');
                const screenWidth = window.innerWidth;
                const screenHeight = window.innerHeight;
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                const isTouch = 'ontouchstart' in window;
                
                let deviceType = 'Desktop';
                if (screenWidth <= 480) deviceType = 'Tr√®s petit √©cran (‚â§480px)';
                else if (screenWidth <= 768) deviceType = 'Mobile/Tablette (‚â§768px)';
                else if (screenWidth <= 1024) deviceType = 'Tablette (‚â§1024px)';
                
                const testResults = [
                    { test: 'Largeur √©cran', value: screenWidth + 'px', status: 'success' },
                    { test: 'Hauteur √©cran', value: screenHeight + 'px', status: 'success' },
                    { test: 'Type appareil', value: deviceType, status: 'success' },
                    { test: 'User Agent Mobile', value: isMobile ? 'Oui' : 'Non', status: isMobile ? 'success' : 'warning' },
                    { test: 'Support tactile', value: isTouch ? 'Oui' : 'Non', status: isTouch ? 'success' : 'warning' },
                    { test: 'Header charg√©', value: document.getElementById('main-header') ? 'Oui' : 'Non', status: document.getElementById('main-header') ? 'success' : 'warning' },
                ];
                
                let html = '<h3 style="color: #190544; margin-bottom: 1rem;">üîç Diagnostic Automatique :</h3>';
                html += '<div style="display: grid; gap: 0.5rem;">';
                
                testResults.forEach(result => {
                    const statusClass = result.status === 'success' ? 'success' : 'warning';
                    const statusIcon = result.status === 'success' ? '‚úÖ' : '‚ö†Ô∏è';
                    html += `
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: ${result.status === 'success' ? '#dcfce7' : '#fef3c7'}; border-radius: 4px;">
                            <span><strong>${result.test} :</strong> ${result.value}</span>
                            <span>${statusIcon}</span>
                        </div>
                    `;
                });
                
                html += '</div>';
                html += '<p style="margin-top: 1rem; font-style: italic; color: #64748b;">Mise √† jour automatique toutes les 3 secondes...</p>';
                
                report.innerHTML = html;
            }
            
            // Mise √† jour du rapport
            generateTestReport();
            setInterval(generateTestReport, 3000);
            
            // Mise √† jour de l'indicateur mobile
            function updateMobileIndicator() {
                const indicator = document.getElementById('mobile-indicator');
                if (indicator) {
                    indicator.textContent = `${window.innerWidth}x${window.innerHeight}px`;
                }
            }
            
            updateMobileIndicator();
            window.addEventListener('resize', updateMobileIndicator);
            
            // Test du header apr√®s chargement
            setTimeout(() => {
                const header = document.getElementById('main-header');
                if (header) {
                    console.log('‚úÖ Header mobile anti-d√©formation charg√© avec succ√®s');
                    console.log('üìê Dimensions header:', {
                        width: header.offsetWidth,
                        height: header.offsetHeight,
                        computed: window.getComputedStyle(header)
                    });
                } else {
                    console.error('‚ùå Header non trouv√© - v√©rifier le chargement du script');
                }
            }, 1000);
            
        })();
    </script>
</body>
</html>